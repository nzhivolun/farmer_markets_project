# utils.py
# ===========================================================
# –û–±—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
# ===========================================================
import math  # –¥–ª—è –æ–∫—Ä—É–≥–ª–µ–Ω–∏—è –≤–≤–µ—Ä—Ö

def validate_id(input_value):
    """
    –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –≤–≤–µ–¥—ë–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ ‚Äî —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ.
    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç int –∏–ª–∏ None.
    """
    if input_value.isdigit():
        return int(input_value)
    else:
        print("–û—à–∏–±–∫–∞: ID –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —á–∏—Å–ª–æ–º.")
        return None


def validate_coordinates(lat, lon):
    """
    –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (—à–∏—Ä–æ—Ç–∞ –∏ –¥–æ–ª–≥–æ—Ç–∞).
    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç (lat, lon) –∫–∞–∫ float –∏–ª–∏ None, –µ—Å–ª–∏ –æ—à–∏–±–∫–∞.
    """
    try:
        lat = float(lat) # –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º —à–∏—Ä–æ—Ç—É –≤ —á–∏—Å–ª–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "59.93" ‚Üí 59.93 - –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥)
        lon = float(lon) # –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –¥–æ–ª–≥–æ—Ç—É –≤ —á–∏—Å–ª–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "30.31" ‚Üí 30.31 - –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥)
    except ValueError:
        print("–û—à–∏–±–∫–∞: –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —á–∏—Å–ª–∞–º–∏.")
        return None

    if not (-90 <= lat <= 90 and -180 <= lon <= 180): #  (lat) ‚Äî —ç—Ç–æ –∫–∞–∫ "–≤–µ—Ä—Ö/–Ω–∏–∑" –Ω–∞ –≥–ª–æ–±—É—Å–µ,  (lon) ‚Äî —ç—Ç–æ –∫–∞–∫ "–ª–µ–≤–æ/–ø—Ä–∞–≤–æ" –Ω–∞ –≥–ª–æ–±—É—Å–µ:
        print("–û—à–∏–±–∫–∞: —à–∏—Ä–æ—Ç–∞ [-90,90], –¥–æ–ª–≥–æ—Ç–∞ [-180,180].")
        return None

    return lat, lon


    """
    —Ñ—É–Ω–∫—Ü–∏—è paginate()
    –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –ø–æ–º–æ–≥–∞–µ—Ç –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –ø–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–π –≤—ã–≤–æ–¥ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –∫–∞–∫ –≤ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç—è—Ö –∏–ª–∏ –ø–æ–∏—Å–∫–æ–≤–∏–∫–∞—Ö, –≥–¥–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —á–∞—Å—Ç—è–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ 10 –∑–∞–ø–∏—Å–µ–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ).
    –ï—Å–ª–∏ results –ø—É—Å—Ç (if not results), –∑–Ω–∞—á–∏—Ç, –¥–∞–Ω–Ω—ã—Ö –±–æ–ª—å—à–µ –Ω–µ—Ç
    """

def paginate(offset, per_page, total=None):
    """
    –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –ø–∞–≥–∏–Ω–∞—Ü–∏—è:
    - [+] —Å–ª–µ–¥—É—é—â–∞—è
    - [-] –ø—Ä–µ–¥—ã–¥—É—â–∞—è
    - [<<] –ø–µ—Ä–≤–∞—è
    - [>>] –ø–æ—Å–ª–µ–¥–Ω—è—è
    - [0] –≤—ã—Ö–æ–¥ –≤ –º–µ–Ω—é
    - [—á–∏—Å–ª–æ] –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
    """
    # === –í—ã—á–∏—Å–ª—è–µ–º —Ç–µ–∫—É—â—É—é –∏ –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü ===
    if total is not None:
        total_pages = math.ceil(total / per_page)
        current_page = offset // per_page + 1
        print(f"\nüìÑ –°—Ç—Ä–∞–Ω–∏—Ü–∞ {current_page} –∏–∑ {total_pages}")
    else:
        print("\nüìÑ –ü–µ—Ä–µ—Ö–æ–¥ –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏:")

    print("[<<] –ü–µ—Ä–≤–∞—è | [+] –°–ª–µ–¥—É—é—â–∞—è | [-] –ü—Ä–µ–¥—ã–¥—É—â–∞—è | [>>] –ü–æ—Å–ª–µ–¥–Ω—è—è | [—á–∏—Å–ª–æ] –ü–µ—Ä–µ–π—Ç–∏ | [0] –ú–µ–Ω—é")

    command = input("–í–∞—à –≤—ã–±–æ—Ä: ").strip().lower()

    if command == "+":
        return offset + per_page
    elif command == "-":
        return max(0, offset - per_page)
    elif command == "<<":
        return 0
    elif command == ">>" and total is not None:
        return (total_pages - 1) * per_page
    elif command == "0":
        return None
    elif command.isdigit():
        page = int(command)
        if total is not None and 1 <= page <= total_pages:
            return (page - 1) * per_page
        else:
            print("–û—à–∏–±–∫–∞: –Ω–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤–Ω–µ –¥–æ–ø—É—Å—Ç–∏–º–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞.")
            return offset
    else:
        print("–ù–µ–≤–µ—Ä–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞.")
        return offset
