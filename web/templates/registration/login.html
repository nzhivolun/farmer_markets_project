{% load i18n %}
{% load static %}

<!DOCTYPE html>
<html lang="en" data-topbar-color="dark">
<head>
    <meta charset="utf-8" />
    <title>{% trans "Log In | Farmer Markets" %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Bootstrap css -->
    <link href="{% static 'assets/css/bootstrap.min.css' %}" rel="stylesheet" />
    <link href="{% static 'assets/css/app.min.css' %}" rel="stylesheet" />
    <link href="{% static 'assets/css/icons.min.css' %}" rel="stylesheet" />
</head>

<body class="authentication-bg authentication-bg-pattern">

<div class="account-pages mt-5 mb-5">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-8 col-lg-6 col-xl-4">
                <div class="card bg-pattern">

                    <div class="card-body p-4">
                        <!-- Логотип и описание -->
                        <div class="text-center w-75 m-auto">
                            <div class="auth-brand">
                                <a href="/" class="logo logo-dark text-center">
                                    <span class="logo-lg">
                                        <img src="{% static 'assets/images/logo-dark.png' %}" alt="" height="22">
                                    </span>
                                </a>
                                <a href="/" class="logo logo-light text-center">
                                    <span class="logo-lg">
                                        <img src="{% static 'assets/images/logo-light.png' %}" alt="" height="22">
                                    </span>
                                </a>
                            </div>
                            <p class="text-muted mb-4 mt-3">
                                {% trans "Enter your username and password to access your account." %}
                            </p>
                        </div>

                        <!-- ФОРМА ВХОДА -->
                        <form method="post" action="{% url 'login' %}">
                            {% csrf_token %}

                            <!-- Username -->
                            <div class="mb-3">
                                <label for="id_username" class="form-label">{% trans "Username" %}</label>
                                <input type="text" name="username" id="id_username" class="form-control"
                                       placeholder="{% trans 'Enter your username' %}" autofocus required>
                            </div>

                            <!-- Password -->
                            <div class="mb-3">
                                <label for="id_password" class="form-label">{% trans "Password" %}</label>
                                <div class="input-group input-group-merge">
                                    <input type="password" name="password" id="id_password" class="form-control"
                                           placeholder="{% trans 'Enter your password' %}" required>
                                    <div class="input-group-text" data-password="false">
                                        <span class="password-eye"></span>
                                    </div>
                                </div>
                            </div>

                            <!-- Terms -->
                            <div class="mb-3">
                                <div class="form-check">
                                    <input type="checkbox" class="form-check-input" id="checkbox-login" required>
                                    <label class="form-check-label" for="checkbox-login">
                                        {% trans "I accept" %} <a href="javascript:void(0);" class="text-dark">{% trans "Terms and Conditions" %}</a>
                                    </label>
                                </div>
                            </div>

                            <!-- Кнопка Входа -->
                            <div class="text-center d-grid">
                                <button class="btn btn-success" type="submit">{% trans "Log In" %}</button>
                            </div>

                            <!-- Ошибки формы (если есть) -->
                            {% if form.errors %}
                                <div class="mt-3 text-danger small text-center">
                                    {% for field, errors in form.errors.items %}
                                        {% for error in errors %}
                                            {{ error }}<br>
                                        {% endfor %}
                                    {% endfor %}
                                </div>
                            {% endif %}

                        </form>

                        <!-- Ссылка на регистрацию -->
                        <div class="text-center mt-3">
                            <p class="text-muted">
                                {% trans "Don't have an account?" %}
                                <a href="{% url 'markets:register' %}" class="text-primary ms-1"><b>{% trans "Sign Up" %}</b></a>
                            </p>
                        </div>

                    </div> <!-- end card-body -->
                </div> <!-- end card -->
            </div>
        </div>
    </div>
</div>

<footer class="footer footer-alt">
    <script>document.write(new Date().getFullYear())</script> © Farmer Markets
</footer>

<script src="{% static 'assets/js/pages/authentication.init.js' %}"></script>
</body>
</html>
